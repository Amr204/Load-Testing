namespace CashlessLoadTest.Worker;

// ============================================================================
// Configuration
// ============================================================================
public static class Config
{
    private static string _baseUrl = Environment.GetEnvironmentVariable("BASE_URL")?.Trim() ?? "https://mada.com:2401";
    public static string BaseUrl {
        get => _baseUrl;
        set => _baseUrl = value;
    }
    public static string CommonPin { get; } = "654321";
    public static int TokenRefreshBufferMs { get; } = 30 * 1000; // Refresh 30 seconds before expiry

    // HTTP Configuration
    public static int HttpTimeoutSeconds { get; } = int.Parse(Environment.GetEnvironmentVariable("HTTP_TIMEOUT_SECONDS") ?? "60");
    public static int MaxRetries { get; } = int.Parse(Environment.GetEnvironmentVariable("MAX_RETRIES") ?? "1");
    public static int RetryDelayMs { get; } = int.Parse(Environment.GetEnvironmentVariable("RETRY_DELAY_MS") ?? "1000");


    // Login retry configuration (for 409 Conflict)
    public static int LoginMaxRetries { get; } = int.Parse(Environment.GetEnvironmentVariable("LOGIN_MAX_RETRIES") ?? "3");
    public static int LoginRetryDelayMs { get; } = int.Parse(Environment.GetEnvironmentVariable("LOGIN_RETRY_DELAY_MS") ?? "100");

    public static readonly string[] Users = new[]
    {
        // Original 42 users
        "776134932", "777462906", "773627506", "777764010", "773909112", "777319144",
        "770014159", "735655831", "730082713", "771511630", "776789028", "773859992",
        "733271461", "775769507", "735117802", "771029378", "776809784", "775312672",
        "772544856", "778557570", "771752004", "778893356", "775121407", "771173241",
        "775869356", "739437668", "774660744", "770543166", "774627899", "738614496",
        "779990912", "778240616", "776462528", "774940094", "772947391", "770724497",
        "778591138", "782563336", "770498840", "773172008", "799123425", "776916340",
        // New 500 users from 500_users.txt
        "710601249", "730731250", "700621250", "710731249", "770511250", "710721243",
        "700731244", "730711248", "700601248", "700721247", "730731246", "730741245",
        "730631246", "710641247", "780701242", "770631245", "780641244", "710611243",
        "700611242", "780621241", "770621240", "770531246", "780521249", "730531245",
        "780631238", "730711241", "700601239", "700511248", "780521247", "730531244",
        "700741240", "780521243", "780741239", "780521242", "780411250", "710701238",
        "780501241", "700541240", "700601237", "730641236", "780531237", "730401249",
        "710401246", "700521238", "780441248", "700511239", "780721237", "710501236",
        "730421247", "770501235", "780441245", "770421244", "730521234", "710401243",
        "710511233", "700501232", "730511231", "710511230", "730421242", "780541229",
        "770501227", "710541226", "770531219", "730441240", "730541225", "770541228",
        "700531224", "730501223", "780431241", "730521221", "710541222", "700541220",
        "770431239", "700611235", "780441238", "700531218", "700511216", "770521217",
        "770531214", "700431236", "780541215", "770441234", "780621233", "700411235",
        "730631234", "710511212", "710631232", "700501213", "710401237", "710611231",
        "770731236", "780641228", "780641230", "710621229", "700541211", "710431233",
        "700601227", "730411232", "770601226", "710611225", "780721235", "780701234",
        "730421230", "700611224", "710521210", "700431231", "710741233", "700711232",
        "710611222", "780631223", "780531209", "710411229", "770421228", "700411227",
        "730631221", "770721231", "700731230", "700411224", "780621220", "710411226",
        "780731227", "710741228", "710721229", "710441225", "780611219", "710701226",
        "710621218", "770711222", "730721224", "770711225", "780701223", "730411222",
        "730531208", "710431223", "780601217", "700421221", "770441220", "700641216",
        "700401219", "710741221", "710401216", "700631215", "780421217", "700411218",
        "770441215", "770641214", "710431212", "710441213", "700741220", "770401214",
        "770641213", "710601212", "700421211", "780401210", "700431209", "780401208",
        "780421207", "700431206", "700711219", "730621211", "770501207", "710421205",
        "700631210", "710401203", "770441204", "710541206", "780741218", "730711217",
        "700511205", "730521204", "730511203", "770701216", "730711215", "770721212",
        "700731213", "780701214", "710501202", "710411202", "700431201", "700731209",
        "730701210", "780501201", "700701211", "770601208", "730631209", "770711208",
        "770741207", "700741206", "770641207", "700791205", "710611206", "780731203",
        "770601205", "770711204", "700611204", "700731202", "730641202", "730701200",
        "700721201", "770621201", "770621203", "700681199", "730601200", "780721199",
        "730771198", "700731197", "730621197", "770671198", "710511200", "770781191",
        "780711196", "780761190", "770731194", "770721189", "700721195", "730791188",
        "780731192", "710741193", "700771187", "710601196", "700661195", "730781186",
        "710641194", "710701185", "730631193", "730761184", "700751183", "770791182",
        "700631191", "770651190", "710641186", "700761181", "700661192", "770651185",
        "710651189", "780761180", "700751179", "770771178", "780661188", "770591199",
        "730691187", "710651184", "770611179", "710571196", "770611178", "780621183",
        "710671180", "780621182", "730671181", "730761177", "700591198", "710601177",
        "700521197", "710751174", "700781175", "770751176", "780521195", "700531193",
        "730551194", "770531191", "730711173", "700511192", "770631174", "730561189",
        "770741172", "770531186", "710681176", "700521187", "730561190", "730521185",
        "780501188", "730581184", "780681173", "780601175", "710741171", "730491200",
        "700561183", "700471199", "700581182", "780411195", "770701170", "730551181",
        "780541178", "780641172", "710471198", "770481197", "700571180", "730471196",
        "730591179", "770581177", "770571176", "730581174", "700591175", "700461194",
        "700511172", "770401193", "770531170", "780521171", "700501167", "700421192",
        "780581173", "710791168", "780721169", "730451191", "780441190", "730561169",
        "780401189", "770571168", "710691171", "770441188", "770551166", "700491186",
        "700451187", "770591165", "730461185", "770521163", "770421183", "770551164",
        "710401184", "770501157", "730511161", "770501156", "700691170", "710541159",
        "770511162", "730541155", "730551160", "730511154", "730501158", "770541152",
        "710541153", "730591150", "700421182", "700451181", "730531151", "780561148",
        "710571149", "780501147", "710431180", "730551146", "770481179", "730591145",
        "710541144", "710541142", "710561143", "700441178", "770571138", "710521141",
        "730561139", "700571140", "700481177", "710691169", "780571137", "770531136",
        "780611168", "710581135", "710431175", "770661167", "780441176", "780551133",
        "730551134", "710581130", "710531131", "710591125", "770581132", "770681166",
        "710521127", "730551129", "700511126", "780541128", "710401174", "700481173",
        "730581124", "770631165", "730491172", "700621164", "770461170", "730431171",
        "730631163", "770461168", "780411169", "700591123", "780531121", "780561122",
        "780501119", "730671161", "780511120", "700611162", "770731167", "710671160",
        "700681159", "730441167", "780451165", "730651157", "700641158", "730541117",
        "700431164", "710451166", "730571118", "770601154", "780791166", "700621153",
        "730641156", "730661155", "700411162", "710481163", "780601152", "780481161",
        "710611151", "780701165", "730671150", "730681149", "730521116", "710491160",
        "780491159", "770611147", "780431158", "770721164", "710651148", "730471156",
        "730461155", "710761162", "700791160", "770421157", "780741161", "730751163",
        "710781159", "730531115", "700611146", "780411154", "730631145", "700691144",
        "700491150", "780451153", "780711158", "730781157", "700411151", "710761156",
        "700421152", "770781155", "770771154", "730451148", "700661143", "730771153",
        "710481147", "700631142", "770721149", "730751151", "780661141", "710411149",
        "710731152", "780621140", "710671138", "710721150", "710441146", "700791148",
        "780411145", "770731146", "770611139", "700741147", "700761145", "700761139",
        "710621137", "710701144", "730701143", "780531114", "700711141", "780721142",
        "780711140", "770791137", "770451140", "780431143", "710411144", "780651136",
        "730421142", "780471141", "780741138", "700601135", "780461138", "710641134",
        "700771136", "730471139", "730441134", "770481137", "770401136", "780421135",
        "730631133", "770411133", "770781135", "770401132", "780401131", "770441128",
        "770461130", "710481129", "780641132", "730641130", "710441126", "780601131",
        "700751133", "770431123"
    };

    // Token cache configuration
    public static string TokenCacheDirectory { get; } =
        Environment.GetEnvironmentVariable("TOKEN_CACHE_DIRECTORY")?.Trim()
        ?? Path.Combine(Directory.GetCurrentDirectory(), "token-cache");

    // Transfer store configuration
    public static string TransferStoreDirectory { get; } =
        Environment.GetEnvironmentVariable("TRANSFER_STORE_DIRECTORY")?.Trim()
        ?? Path.Combine(Directory.GetCurrentDirectory(), "transfer-store");
}
